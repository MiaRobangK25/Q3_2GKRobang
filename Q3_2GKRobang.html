<!DOCTYPE html>
<html>

    <head>

    <meta charset="utf-8" />
    <title>PISAY Clubs & Organization Application </title>

        <style>
            body
            {
                background-color: rgb(186, 154, 174);
                color: rgb(54, 41, 48);
                background-image: 
                linear-gradient(rgba(186, 154, 174, 0.531), rgba(124, 87, 110, 0.822)), 
                url('PurpleLilacs.JPG');
                background-size: cover;
                background-position: center;
                background-repeat: no-repeat;
                background-attachment: fixed; 
                margin: 0;
            }

            .card
            {
                background-color: rgb(255, 255, 255);
                width: 650px;
                margin: 40px auto;
                padding: 40px 40px;
                border-radius: 18px;
                box-shadow: 0 6px 18px rgba(44, 27, 36, 0.906); 
            }

            h1
            {
                font-family:Arial, Helvetica, sans-serif; 
                text-align: center;
                font-size: 33px;
                color: rgb(52, 41, 54);
            }

            h2
            {
                font-family:Arial, Helvetica, sans-serif; 
                color: rgb(52, 41, 54);
                text-align: center;
                font-size: 25px;
            }

            h3
            {
                font-family:Arial, Helvetica, sans-serif; 
                color: rgb(94, 74, 97);
                font-weight: 50px;
                text-align: center;
            }

            h4
            {
                text-align: center;
                color: rgb(52, 41, 54);
                text-align: center;
                font-family:Georgia, 'Times New Roman', Times, serif; 
            }

            .Error
            {
                border: 2px solid rgb(190, 105, 112);
                background-color: rgba(224, 171, 191, 0.775);
                border-radius: 3px;
                transition: background-color 0.2s ease, transform 0.1s ease;
            }

            label
            {
                font-family: Verdana, sans-serif;
                color: rgb(70, 56, 73);
                font-weight: 100px;
                font-size: 20px;
            }

            button
            {
                font-family: Arial, Helvetica, sans-serif;
                font-size: 25px;
                font-weight: bold;
                padding: 10px 18px;
                border-radius: 8px;
                background-color: rgba(217, 202, 215, 0.285);
                border: none;
                cursor: pointer;
                transition: background-color 0.2s ease, transform 0.1s ease;
            }

            input:focus,
            select:focus,
            textarea:focus
            {
                outline: none;
                border: 2px solid #a77ea2;
                background-color: rgba(211, 190, 205, 0.222);
                border-radius: 3px;
            }

        </style>

    </head>

    <body>

    <div class="card">

    <h1>PISAY Clubs & Organization Application</h1>
    <h3> ⋆｡°✩₊ °✦ [ SY. 2026 - 2027 ] ⋆｡°✩₊ °✦ </h3>

    <form id="signupForm" method="post"
      onsubmit="return handleSubmit(event)"
      onreset="return confirmReset()">

    <!--
    
    This tells the code to only reset/submit the INPUTS as it is a form. 
    - method="post" IS the method/how the data is sent... 
    
    -->

    <h4>________________________________________________________</h4>

    <h2>Basic Information ⭒˚｡</h2>

    <label>
        Student ID:
        <input type="number" id="fStudentID" name="fStudentID" required onblur="emptyOrNot(this)">
    </label><br><br>
    
    <label>
        Full Name:
        <input type="text" id="fFullName" name="fFullName" required onblur="emptyOrNot(this)">
    </label><br><br>
    
    <label>
        Birthday:
        <input type="date" id="fBirthday" name="fBirthday" required onblur="emptyOrNot(this)">
    </label><br><br>
    
    <label>
        Email Address:
        <input type="email" id="fEmailAddress" name="fEmailAddress" required onblur="emptyOrNot(this)">
    </label><br><br>
    
    <label>
        Mobile Phone:
        <input type="tel" id="fMobilePhone" pattern="[0-9]{11}" placeholder="09XXXXXXXXX" 
        name="fMobilePhone" required onblur="emptyOrNot(this)">
    </label><br><br>

    <label>
        Grade Level:
        <select id="fGradeLevel" name="GradeLevel" required onblur="emptyOrNot(this)">
            <option value="">Choose...</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>
    </label><br><br>
    
    <label>
        <input type="radio" name="HousingStatus" value="Intern" required>
        Intern
    </label>
    <label>
        <input type="radio" name="HousingStatus" value="Extern">
        Extern
    </label><br><br>
    
    <h2> Club / Organization Preferences ⭒˚｡</h2>
    
    <label>
        Choose your Preferred Club:
        <select id="fClub" name="Club" required onblur="emptyOrNot(this)">
            <option value="">Choose...</option>
            <option value="Invictus">Invictus</option>
            <option value="Animo Chess Club">Animo Chess Club</option>
            <option value="Labuyo">Labuyo</option>
            <option value="Alianti">Alianti</option>
            <option value="Himig Agham">Himig Agham</option>
        </select>
    </label><br><br>
    
    <label>
        Why do you want to join? <br/>
        <textarea id="why" name="JoinReasoning" rows="4" cols="30"
        required onblur="emptyOrNot(this)"></textarea>
    </label>
    
    <br><br>

        <button type="reset">Reset</button>
        <button type="submit">Submit</button>
        <button type="button" onclick="window.location.href='viewSignUps.html'">
            View Signups
        </button>

    </form>
    
    </div>

    <script>
        function confirmSubmit() 
        {
            return confirm("Are you sure you want to submit everything?");
        }

        function confirmReset() 
        {
            return confirm("Do you really wish to reset this form?");
        }
        // added this just incase.... because I keep making the same mistake too in forms 

        function emptyOrNot(field)
        {
            if (field.value.trim() === "")
            {
                field.classList.add("Error");
            }
            else 
            {
                field.classList.remove("Error");
            }
            // literally just fixes errors again
        }

        // [ NEW CODE FOR GRADED 3 : using allat that we learned ] 

        function handleSubmit(event)
        // runs when submitted, and to be sure it's handled 
        {

        event.preventDefault(); 

        // get confirmation first justtt to be sure!
        if (!confirmSubmit()) return false;

        // We create aan object that stores ALL form data.........
        // this will be used later just trust me
        const signupData = 
        {
            studentID: document.getElementById("fStudentID").value,
            fullName: document.getElementById("fFullName").value,
            birthday: document.getElementById("fBirthday").value,
            email: document.getElementById("fEmailAddress").value,
            mobile: document.getElementById("fMobilePhone").value,
            gradeLevel: document.getElementById("fGradeLevel").value,
            housingStatus: document.querySelector('input[name="HousingStatus"]:checked').value,
            club: document.getElementById("fClub").value,
            reason: document.getElementById("why").value
        };

        // Check if localStorage already has sign-ups, & if its' empty
        // here you get existing signups & collect the data
        let signups = localStorage.getItem("pisaySignups");

        if (signups)
        {
            // Convert string back to array, to be used
            // will be done if data.. exists yk
            signups = JSON.parse(signups);
        }
        else
        {
            signups = [];
            // or else leave it in an empty array.....
        }

        signups.push(signupData);
        // input allat
        localStorage.setItem("pisaySignups", JSON.stringify(signups));
        // adds them to the list when you set it

        alert("Your application has been saved!");
        // so they know that.. submitting actually did something..

        // Reset form after saving-- to prepare if they want to input another set of data
        document.getElementById("signupForm").reset();

        return false;
    }

    </script>

    </body>

</html>
